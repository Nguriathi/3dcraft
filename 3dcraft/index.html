<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>3D Project Presentation</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Syne:wght@400;700;800&family=Urbanist:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="#">3D</a>
      <nav class="main-nav" aria-label="Main navigation">
        <button class="nav-toggle" aria-expanded="false" aria-controls="main-menu">
          <span class="sr-only">Toggle navigation</span>
          <span class="hamburger" aria-hidden="true"></span>
        </button>
        <ul id="main-menu" class="nav-list">
          <li><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Portfolio</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <!-- Hero 1 -->
    <section class="hero hero-1" style="background-image: url('media/hero.jpg')">
      <div class="container hero-content">
        <h1>3D<br>Design Studio</h1>
        
        <p class="lead">Browse my gallery of recent freelance projects I did over the last 3 years</p>
  <a class="btn" href="#architecture">View my work</a>
      </div>
    </section>

    <!-- Hero 2 (dark) -->
    <section class="hero hero-2" style="position: relative; overflow: hidden;">
      <div class="video-stack" style="position:absolute; inset:0; width:100%; height:100%; z-index:0; overflow:hidden; pointer-events:none;">
        <video class="bg-vid" preload="auto" muted playsinline
          style="position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transition:opacity 800ms ease;">
          <source src="media/cups.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>

        <video class="bg-vid" preload="auto" muted playsinline
          style="position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transition:opacity 800ms ease;">
          <source src="media/Floating.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>

        <video class="bg-vid" preload="auto" muted playsinline
          style="position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transition:opacity 800ms ease;">
          <source src="media/drive.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>

      <script>
        (function(){
          const vids = Array.from((document.currentScript || document.scripts[document.scripts.length-1]).previousElementSibling.querySelectorAll('.bg-vid'));
          if(!vids.length) return;
          const fadeMs = 800;
          let current = -1;

          function playNext(){
        let next;
        if(vids.length === 1) next = 0;
        else {
          do { next = Math.floor(Math.random()*vids.length); } while(next === current);
        }
        const nextV = vids[next];
        try{ nextV.pause(); nextV.currentTime = 0; }catch(e){}

        // bring next to front visually by fading it in
        nextV.style.transition = `opacity ${fadeMs}ms ease`;
        nextV.style.opacity = '1';
        nextV.play().catch(()=>{});

        // fade out previous
        if(current !== -1){
          const curV = vids[current];
          curV.style.transition = `opacity ${fadeMs}ms ease`;
          curV.style.opacity = '0';
          // pause previous after fade completes to free resources
          setTimeout(()=>{ try{ curV.pause(); }catch(e){} }, fadeMs + 50);
        }

        current = next;
          }

          // when a video ends, pick a random next (not the same)
          vids.forEach(v=>{
        v.addEventListener('ended', playNext);
        v.muted = true;
        v.playsInline = true;
        v.preload = 'auto';
        // ensure starting state
        v.style.opacity = '0';
          });

          // start after a short delay (some browsers need user gesture; having muted helps)
          setTimeout(()=>{ playNext(); }, 150);
        })();
      </script>
      <div style="position: relative; z-index: 1;"></div>
      <div class="container hero-content">
        <h2>Check out<br>my work</h2>
        <p class="lead">Browse my gallery of recent freelance projects </p>
  <a class="btn light" href="#architecture">Works</a>
      </div>
    </section>

    
    <!-- Product animation -->
    <section id="product-animation" class="gallery">
      <div class="gallery-headings">
        <p class="gallery-title">Product animation</p>
      </div>
      <div class="cards container">
        <article class="card" data-video="media/final.mp4">
          <div class="card-number">01</div>
          <div class="card-media"><img src="media/smartwatch.png" alt="Smartwatch animation"></div>
          <div class="card-caption">Smartwatch animation</div>
        </article>
        <article class="card" data-video="media/final.mp4">
          <div class="card-number">02</div>
          <div class="card-media"><img src="media/afrostyled.png" alt="Bag animation"></div>
          <div class="card-caption">Bag animation</div>
        </article>
        <article class="card" data-video="media/petals.mp4">
          <div class="card-number">03</div>
          <div class="card-media"><img src="media/1st.jpg" alt="Speaker animation"></div>
          <div class="card-caption">Speaker animation</div>
        </article>
        <article class="card" data-video="media/floating.mp4">
          <div class="card-number">04</div>
          <div class="card-media"><img src="media/aman1.jpg" alt="Product scene"></div>
          <div class="card-caption">Product scene</div>
        </article>
        <article class="card" data-video="https://player.vimeo.com/video/22439234">
          <div class="card-number">05</div>
          <div class="card-media"><img src="media/rolex.jpg" alt="Watch animation"></div>
          <div class="card-caption">Watch animation</div>
        </article>
      </div>
    </section>
    
    <!-- Architecture works (same card layout as gallery) -->
    <section id="architecture" class="gallery">
      <div class="gallery-headings">
        <p class="gallery-title">Architecture</p>
      </div>
      <div class="cards container">
        <article class="card">
          <div class="card-number">01</div>
          <div class="card-media"><img src="media/ref.jpg" alt="Modern Villa"></div>
          <div class="card-caption">Modern Villa</div>
        </article>
        <article class="card">
          <div class="card-number">02</div>
          <div class="card-media"><img src="media/garden.jpg" alt="Concrete Residence"></div>
          <div class="card-caption">Concrete Residence</div>
        </article>
        <article class="card">
          <div class="card-number">03</div>
          <div class="card-media"><img src="media/aman1.jpg" alt="Glass Atrium"></div>
          <div class="card-caption">Glass Atrium</div>
        </article>
        <article class="card">
          <div class="card-number">04</div>
          <div class="card-media"><img src="media/rolex.jpg" alt="Civic Center"></div>
          <div class="card-caption">Civic Center</div>
        </article>
        <!-- removed extra fifth card to make architecture a 4-card section -->
      </div>
    </section>
  </main>

  
  <!-- Footer -->
  <footer class="site-footer minimal-footer" role="contentinfo">
    <div class="container footer-inner">
      <nav class="footer-socials" aria-label="Social media">
        <a class="social-link" href="#" aria-label="Instagram">
          <!-- Instagram SVG -->
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path fill="currentColor" d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7z" />
            <path fill="currentColor" d="M12 7.3a4.7 4.7 0 1 1 0 9.4 4.7 4.7 0 0 1 0-9.4zm0 2a2.7 2.7 0 1 0 0 5.4 2.7 2.7 0 0 0 0-5.4zM17.8 6.2a.9.9 0 1 1 0 1.8.9.9 0 0 1 0-1.8z" />
          </svg>
        </a>
        <a class="social-link" href="#" aria-label="Twitter">
          <!-- Twitter SVG -->
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path fill="currentColor" d="M22 5.92c-.66.3-1.36.5-2.08.6a3.6 3.6 0 0 0 1.6-2 7.2 7.2 0 0 1-2.28.88 3.6 3.6 0 0 0-6.16 3.28A10.2 10.2 0 0 1 3.16 4.9a3.6 3.6 0 0 0 1.12 4.8 3.5 3.5 0 0 1-1.64-.46v.04a3.6 3.6 0 0 0 2.88 3.52c-.44.12-.9.14-1.36.06a3.6 3.6 0 0 0 3.36 2.5A7.2 7.2 0 0 1 2 19.54a10.2 10.2 0 0 0 5.52 1.62c6.62 0 10.24-5.5 10.24-10.28v-.48c.72-.52 1.28-1.12 1.76-1.82-.64.28-1.32.48-2.04.56z"/>
          </svg>
        </a>
        <a class="social-link" href="#" aria-label="TikTok">
          <!-- TikTok SVG (simplified) -->
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path fill="currentColor" d="M17 3v6.2a4 4 0 1 1-4-4V3a7 7 0 1 0 7 7h-2A5 5 0 1 1 17 3z" />
          </svg>
        </a>
        <a class="social-link" href="#" aria-label="Pinterest">
          <!-- Pinterest SVG -->
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path fill="currentColor" d="M12 2a10 10 0 0 0-3.2 19.5c-.04-.85-.08-2.16.02-3.08.1-.9.66-5.76.66-5.76s-.16-.34-.16-.85c0-.8.47-1.4 1.06-1.4.5 0 .74.38.74.84 0 .52-.33 1.3-.5 2.03-.14.6.3 1.1.9 1.1 1.08 0 1.92-1.14 1.92-2.78 0-1.45-1.04-2.47-2.54-2.47-1.73 0-2.76 1.3-2.76 2.65 0 .53.2 1.1.45 1.42.05.06.06.12.04.18-.04.2-.12.64-.14.73-.02.1-.07.14-.16.1-.6-.28-1.02-1.12-1.02-1.8 0-1.46 1.06-3.34 3.06-3.34 1.63 0 2.89 1.17 2.89 2.73 0 1.66-1.03 2.99-2.48 2.99-.5 0-.98-.26-1.14-.56l-.31 1.2c-.11.44-.4 1.02-.6 1.37A10 10 0 1 0 12 2z" />
          </svg>
        </a>
        <a class="social-link" href="#" aria-label="Behance">
          <!-- Behance SVG (simplified) -->
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path fill="currentColor" d="M3 7h4a3 3 0 0 1 0 6H3V7zm6 0h6v2H9V7zm0 4h6v2H9v-2zM3 15h4v2H3v-2zM17 3h4v18h-4V3z" />
          </svg>
        </a>
      </nav>
      <button class="back-to-top" aria-label="Back to top">
        <!-- Up arrow SVG -->
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path fill="currentColor" d="M12 5.5l6 6-1.4 1.4L12 8.3 7.4 12.9 6 11.5z" />
        </svg>
      </button>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
  <!-- Video modal (opened when clicking product-animation cards) -->
  <div id="video-modal" class="video-modal" aria-hidden="true" role="dialog" aria-label="Video player">
    <div class="video-modal__overlay" data-close></div>
    <div class="video-modal__content" role="document">
      <button class="video-modal__close" aria-label="Close video">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path fill="currentColor" d="M18.3 5.71a1 1 0 0 0-1.41 0L12 10.59 7.11 5.7A1 1 0 0 0 5.7 7.11L10.59 12l-4.9 4.89a1 1 0 1 0 1.41 1.41L12 13.41l4.89 4.9a1 1 0 0 0 1.41-1.41L13.41 12l4.9-4.89a1 1 0 0 0 0-1.4z"/>
        </svg>
      </button>
      <div class="video-modal__container">
        <div class="video-container" data-video-target></div>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const modal = document.getElementById('video-modal');
      if(!modal) return;
      const overlay = modal.querySelector('[data-close]');
      const closeBtn = modal.querySelector('.video-modal__close');
      const mediaRoot = modal.querySelector('[data-video-target]');
  let lastFocused = null;
  let savedScrollY = 0;

      function isExternalUrl(url){
        return /https?:\/\//i.test(url);
      }

      function isVideoFile(url){
        return /\.(mp4|webm|ogg)(\?|$)/i.test(url);
      }

      function openModal(src){
        if(!src) return;
        // clear previous
        mediaRoot.innerHTML = '';

        if(isExternalUrl(src)){
          // Use iframe for YouTube/Vimeo or other embeds
          const iframe = document.createElement('iframe');
          iframe.src = src;
          iframe.width = '100%';
          iframe.height = '100%';
          iframe.frameBorder = '0';
          iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen';
          iframe.allowFullscreen = true;
          iframe.setAttribute('title','Video player');
          mediaRoot.appendChild(iframe);
        } else if(isVideoFile(src) || src.indexOf('media/') === 0){
          // Local video file
          const video = document.createElement('video');
          video.src = src;
          video.controls = true;
          video.autoplay = true;
          video.playsInline = true;
          video.style.width = '100%';
          video.style.height = '100%';
          mediaRoot.appendChild(video);
          // Ensure video starts playing where allowed
          video.addEventListener('loadedmetadata', ()=>{ try{ video.play().catch(()=>{}); }catch(e){} });
        } else {
          // fallback: treat as iframe
          const iframe = document.createElement('iframe');
          iframe.src = src;
          iframe.width = '100%';
          iframe.height = '100%';
          iframe.frameBorder = '0';
          iframe.allowFullscreen = true;
          mediaRoot.appendChild(iframe);
        }

  lastFocused = document.activeElement;
  // remember current scroll so we can restore it after closing
  savedScrollY = window.scrollY || window.pageYOffset || 0;
  modal.classList.add('open');
  modal.setAttribute('aria-hidden','false');
  // prevent background scroll
  document.documentElement.style.overflow = 'hidden';
  document.body.style.overflow = 'hidden';
  // move focus to close button for keyboard users without scrolling the page
  try{ closeBtn.focus({preventScroll:true}); }catch(e){ closeBtn.focus(); }

        // listen for Escape
        window.addEventListener('keydown', onKeyDown);
      }

      function closeModal(){
        // pause any playing video
        const vid = mediaRoot.querySelector('video');
        if(vid && typeof vid.pause === 'function') vid.pause();
        // remove media
        mediaRoot.innerHTML = '';
  modal.classList.remove('open');
  modal.setAttribute('aria-hidden','true');
  document.documentElement.style.overflow = '';
  document.body.style.overflow = '';
  // restore previous scroll position so user remains in the same section
  try{ window.scrollTo({top: savedScrollY}); }catch(e){ window.scrollTo(0, savedScrollY); }
        window.removeEventListener('keydown', onKeyDown);
        if(lastFocused && typeof lastFocused.focus === 'function') lastFocused.focus();
      }

      function onKeyDown(e){
        if(e.key === 'Escape' || e.key === 'Esc'){
          closeModal();
        }
      }

      // overlay / close button
      overlay.addEventListener('click', closeModal);
      closeBtn.addEventListener('click', closeModal);

      // prevent clicks inside content from closing
      modal.querySelector('.video-modal__content').addEventListener('click', (e)=>{ e.stopPropagation(); });

      // wire up product cards
      const cards = document.querySelectorAll('#product-animation .card');
      cards.forEach(card=>{
        card.style.cursor = 'pointer';
        card.addEventListener('click', (e)=>{
          // avoid opening when clicking interactive children that may be added in the future
          const target = e.target;
          // open modal with the card's data-video attribute
          const src = card.getAttribute('data-video');
          if(src){
            openModal(src);
          }
        });
      });
    })();
  </script>
  <script>
    // Mobile nav toggle
    (function(){
      const btn = document.querySelector('.nav-toggle');
      const menu = document.getElementById('main-menu');
      if(!btn || !menu) return;
      btn.addEventListener('click', ()=>{
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        menu.classList.toggle('show');
      });
      // close menu when clicking outside
      document.addEventListener('click', (e)=>{
        if(!menu.classList.contains('show')) return;
        if(e.target.closest('.main-nav')) return;
        btn.setAttribute('aria-expanded','false');
        menu.classList.remove('show');
      });
    })();
  
  
  </script>
    <script>
      // Section dots: dynamically build indicators and wire click + active state
      (function(){
        const sections = Array.from(document.querySelectorAll('main > section'));
        if(!sections.length) return;

        const dots = document.createElement('nav');
        dots.className = 'section-dots';
        sections.forEach((sec, idx)=>{
          const btn = document.createElement('button');
          btn.setAttribute('aria-label', 'Go to section ' + (idx+1));
          btn.addEventListener('click', ()=>{
            sec.scrollIntoView({behavior:'smooth',block:'start'});
            // set focus for accessibility
            btn.focus();
          });
          dots.appendChild(btn);
        });

        document.body.appendChild(dots);

        const dotButtons = Array.from(dots.querySelectorAll('button'));

        const io = new IntersectionObserver((entries)=>{
          entries.forEach(entry=>{
            if(entry.isIntersecting){
              const i = sections.indexOf(entry.target);
              dotButtons.forEach(b=>b.classList.remove('active'));
              if(dotButtons[i]) dotButtons[i].classList.add('active');
            }
          });
        },{threshold:0.6});

        sections.forEach(s=>io.observe(s));
      })();
    </script>
    <script>
      // Back to top handler
      (function(){
        const btn = document.querySelector('.back-to-top');
        if(!btn) return;
        btn.addEventListener('click', ()=>{
          window.scrollTo({top:0,behavior:'smooth'});
        });
        btn.addEventListener('keydown', (e)=>{
          if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); btn.click(); }
        });
      })();
    </script>
</body>
</html>